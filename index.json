[{"categories":["Robotics","Mechatronics"],"content":" In the realm of biomedical engineering, my Master‚Äôs thesis at the Technical University of Munich‚Äôs Institute of Micro Technology and Medical Device Technology (MiMed) introduces a novel approach to shoulder rehabilitation through the development of the Actuated Scissor Shoulder Mechanism Exoskeleton (ASSM-EXO). This project contributtes to the development in the field of mobile exoskeletions, focusing on the design and evaluation of a compact, wearable device intended to aid in the recovery of individuals experiencing shoulder mobility impairments, particularly following stroke-related hemiparesis. Overview of the Shoulder Exoskeleton ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:0:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Mechatronics"],"content":"Addressing a Critical Need The motivation for this thesis arises from the increasing prevalence of stroke cases worldwide, which often result in long-term disabilities such as hemiparesis. With a growing demand for rehabilitation services and a notable shortage of physiotherapy resources, the ASSM-EXO aims to provide a complementary solution that enables patients to perform more frequent and targeted rehabilitation exercises, potentially improving recovery outcomes. ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:1:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Mechatronics"],"content":"Conceptual Foundation The cornerstone of this Master‚Äôs thesis is an innovative Actuated Scissor Shoulder Mechanism, distinguished by its unique design that avoids singularities, provides high stiffness, and supports a wide range of shoulder movements. Constructed with lightweight aluminum, the ASSM-EXO is engineered to mimic the natural movements of the human body, thereby offering users both functional support and comfort. The following animation shows movement of each linkage during the Abduction/Adduction, Internal/ External Rotation and Flexion/Extension. To get a better understanding of the design of the mechanism the follwing figure shows an exploding view of the spherical mechanism where each layer is indicated by a unique color. Exploding view of the ASSM ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:2:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Mechatronics"],"content":"Technical Achievements A key innovation of the ASSM-EXO is its actuation system, powered by a Bowden cable and driven by motors located within a specially designed backpack. This strategic design significantly reduces the device‚Äôs weight impact on the user‚Äôs extremities, promoting enhanced comfort and ease of use. Weighing approximately 1.42 kg on the extremities, this aspect of the thesis underscores the project‚Äôs commitment to developing user-centric rehabilitation technologies. ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:3:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Mechatronics"],"content":"Research Insights Initial testing and research conducted as part of this Master‚Äôs thesis have yielded encouraging results, demonstrating the ASSM-EXO‚Äôs potential to reduce muscle activity by 50% during use while achiving high mobilie and range of motion. Summary of the Development\rIn summary, an exoskeleton was developed which: Fully actuates the SSM mechanism -\u003e ASSM Close to the body (distance to the centre of the shoulder only 122 mm) Reduces muscle activity by up to 50 % (comparable with current systems) High comfort even with high forces The final range of motion of the decive was evaluated and can be seen the the figure below. Range of Motion with and without the ASSM ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:4:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Mechatronics"],"content":"Future Perspectives The development of actuated exoskeletons like the ASSM-EXO invariably involves balancing comfort, safety, and functionality. Each design decision impacts these factors differently, highlighting the complex interplay between reducing weight, ensuring stability, and maintaining a user-friendly design. As such, future work in this field must continue to address these challenges, exploring new materials, designs, and technologies that can bring us closer to achieving an optimal balance. The journey of the ASSM-EXO from a concept to a functional prototype underscores the dynamic challenges and opportunities within the field of rehabilitative device development. It was a great challenge and learning experience that MiMed offered me. Special thanks go to my supervisors on this project, which helped signaifically on the technical and conceptual problems. ","date":"2023-05-01","objectID":"/wearable_compact_shoulderexoskeletion/:5:0","tags":["Robotics Engineering","Rehabilitaion"],"title":"Wearable Compact Shoulder Exoskeleton","uri":"/wearable_compact_shoulderexoskeletion/"},{"categories":["Robotics","Prosthesis Development"],"content":"Introduction to the Cybathlon Prosthesis In the course of 2 Semesters, we, in a team of 3 people, designed and prototyped a robotic hand for the Cybathlon competition, aiming to realise an anthropomorphic prosthetic hand. The project was guided by the principle of anthropomorphism in robotics, focusing on emulating the appearance, motion, and sensory capabilities of the human hand. This approach led us to develop a prosthesis that not only met the functional requirements of the competition but also had a visually appealing, human-like design. ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:1:0","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Design and Development Process Sub-Assemblies\rThe challenge of designing a robotic prosthesis can be divided into four different sub-assemblies, each with unique requirements and challenges: ‚òùÔ∏è Finger üå¥ Palm üëã Wrist ü™µ Stump As the responsibilities were split in the team, it was important to define common interfaces between each part. Here you can see the final prototype including key design highlights in the build. In total, the prosthesis had a weight of 0.9kg which is comparable to state of the art prostheses. The prosthesis design process involved substantial research and creative engineering to achieve the desired functionality and aesthetics. We focused on developing a gripping mechanism with a singular degree of freedom (DOF) but capable of performing both power and pinch grasp which are essential for the Cybathlon competition. Additionally, our wrist mechanism featured two DOFs, providing enhanced agility and functionality in grasping motions. ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:2:0","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Finger Mechanics and Dynamics The fingers were designed with leaf springs for flexibility and underactuated movement, enabling them to adapt to the shape of the grasped object. The thumb, with its unique design, was integral to achieving effective grasping modes. The fingers and thumb were made adaptable, with their movement driven by a single tendon, ensuring simplicity and efficiency in the design. To add torsional stiffness to the joint additonal cruciat ligaments where used similar to the ones present in a human knee joint. ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:2:1","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Palm Design and Tendon Routing The palm was designed to serve as both the structural core and the aesthetic outer shell of the prosthesis similar to a monocouque in a race car. It housed the motor unit, finger mounts, and the pulley system essential for the tendon-driven movement of the fingers. The challenge was to integrate these mechanical elements within a design that mimicked the human palm‚Äôs look and feel. By using lightweight materials like Nylon and PLA, we managed to balance mechanical functionality with an anthropomorphic appearance. On the figure above you can see the tendon routing which enables two different adaptive grasping types. One where the thumb is delayed and therefore curls over the index finger (power grasp) and one where the timing of the fingers is tuned such that index finger and thumb meet directly (pinch grasp). ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:2:2","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Wrist Mechanism: A Differential Approach Overview of parts in the wrist One of the project‚Äôs highlights was the innovative wrist mechanism. Instead of assigning one motor for each DOF, we developed a differential wrist mechanism that connected both motors in the same power train. Flexion and extension can be achieved by rotating both motors in the same directions. Pronation and Supination is realized if the motors are actuated in opposing directions. This design allowed for simultaneous and continuous power allocation to both DOFs of the wrist. The motors, placed close to the stump interface, optimised weight distribution and reduced structural stress. ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:2:3","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Stump Interface: Enhancing Pilot Comfort The stump interface, custom-fitted for the pilot, offered comfort and an additional passive rotational joint for ease of adjustment. This passive rotary mechanism allowed for easy, single-handed manipulation and provided a task-adaptable pronation/supination offset, significantly enhancing the pilot‚Äôs comfort and the prosthesis‚Äôs functionality. Manual Locking Mechanism for Supination and Pronation A notable feature is the additional manual degree of freedom for the wrist. This improvement allows for heightened control and flexibility, enabling users to navigate their prosthetics with greater precision. In total, it introduces a 14-step rotation system with 25.7¬∞ increments. A robust, tight locking mechanism is integrated to prevent unintended movements. This feature ensures stability during various activities, addressing concerns related to reliability and safety in daily use. ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:2:4","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":["Robotics","Prosthesis Development"],"content":"Documents For a more detailed overview of the Design use the following link to get read the full report about this project. üíæ Report ","date":"2022-03-01","objectID":"/anthropomorphic_hand/:3:0","tags":["Cybathlon","Prosthesis Design","Robotics Engineering"],"title":"Anthropomorphic Prosthesis for the Cybathlon Challenge","uri":"/anthropomorphic_hand/"},{"categories":null,"content":"This page is about me and my technical background","date":"2021-01-28","objectID":"/info/about/","tags":null,"title":"About me","uri":"/info/about/"},{"categories":null,"content":" As a robotic engineer and enthusiast for DIY projects, I thrive on devising innovative solutions to novel challenges. This platform serves as a showcase some of my personal and research related endeavors. What is this Blog about?\rI have done several projects in the past involving arduinos, mechatronics or simple mechanical designs mostly around 3d printing. However, in the future, I also want to share some more software orientated projects and creative stuff that comes into my mind. So stay tuned!! ","date":"2021-01-28","objectID":"/info/about/:0:0","tags":null,"title":"About me","uri":"/info/about/"},{"categories":[],"content":"A website that shows the hourly occupancy of the selected facility.","date":"2020-10-08","objectID":"/occupancy_munich/","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":[],"content":"\rGeorge_Orwell\rBig brother is watching you\rWeekly overview of the occupancy of a facility Website (No longer maintained) ","date":"2020-10-08","objectID":"/occupancy_munich/:0:0","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":[],"content":"Introduction I am a climber and I like to go climbing gyms or bouldering gyms. As I and a friend were going regularly to the same gym in Munich, we kept discussing the best possible time we could meet and encounter as few other people as possible. When we had the reluctance to choose our arrival time freely this wasn‚Äôt a big deal. However, with corona and my friend starting a full-time job, things got complicated. Also, it started bothering us that we had the same discussion over and over again, whilst we were waiting in line to get in. That‚Äôs why we decided to crawl the current occupancy of several gyms in Munich. All this effort to get an informed answer to our question. We create an API and a website to help us and others to find their optimal time to meet at the gym. ","date":"2020-10-08","objectID":"/occupancy_munich/:1:0","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":[],"content":"Website The website shows the hourly occupancy of the selected facility. The different locations can be selected via the dropdown menu at the top of the page. After the page updates, it shows the occupancy in a bubble chart, which depicts the percentage in size. If over 80%, the colour starts to fade into a red to signal a nearly full facility. The weekly overview should help identify the peak times as well as off-hours. This view should give an intuitive overview to help plan your gym time in advance. ","date":"2020-10-08","objectID":"/occupancy_munich/:2:0","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":[],"content":"API The project is called munich-corona-occupancies. It is a REST API and it is hosted on GitHub. It crawls the current occupancies of climbing, swimming, and sauna facilities in Munich roughly every 15min and commits the data directly to the repo. The API is documented here. Fetching the data from the API: Insert the gym and a date into the url https://raw.githubusercontent.com/zepatrik/munich-corona-occupancies/main/data/\u003cgym\u003e/\u003cdate\u003e.json Over 30 facilities\rLocation ID Name b_bw_ost Boulder Welt Ost b_bw_sued Boulder Welt S√ºd b_bw_west BoulderWelt West b_ei Einstein b_dav_thalk DAV Thalkirchen Bouldern k_dav_thalk DAV Thalkirchen Klettern b_dav_toelz DAV Bad T√∂lz Bouldern k_dav_toelz DAV Bad T√∂lz Klettern b_dav_freim DAV Freimann Bouldern b_dav_gilch DAV Gilching Bouldern k_dav_freim DAV Freimann Klettern k_dav_gilch DAV Gilching Klettern s_cosi Cosima Wellness Sauna s_dante Dante Bad Sauna s_micha Michaeli Bad Sauna s_nord Nordbad Sauna s_prinz Prinzregentenbad Sauna s_sued S√ºdbad Sauna s_volk M√ºller‚Äôsches Volksbad Sauna s_west Westbad Sauna s_cosima Cosima Wellness b_forst Bad Forstenrieder Park b_gies Bad Giesing-Harlaching b_michaeli Michaeli Bad Schwimmen b_nord Nordbad Schwimmen b_oly Olympia-Schwimmhalle b_sued S√ºdbad Schwimmen b_volk M√ºller‚Äôsches Volksbad Schwimmen b_west Westbad Schwimmen ","date":"2020-10-08","objectID":"/occupancy_munich/:3:0","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":[],"content":"Some Code Examples curl https://raw.githubusercontent.com/zepatrik/munich-corona-occupancies/main/data/b_ei/2020-10-28.json var data = fetch('https://raw.githubusercontent.com/zepatrik/munich-corona-occupancies/main/data/b_ei/2020-10-28.json') .then(response =\u003e response.json()) .then(data =\u003e console.log(data)) ","date":"2020-10-08","objectID":"/occupancy_munich/:3:1","tags":[],"title":"Occupancy munich - Avoid people in corona times","uri":"/occupancy_munich/"},{"categories":["arduino","feedback control theory"],"content":"Introduction The inverted pendulum is one of the most popular demonstrations in system control, has been studied since the 19601 and is a prime example at unis and other research institutes. However, the inverted pendulum, which is nothing more than a pendulum that has the centre of mass above the pivot point, yet has no particular use case. To change this once in for all, I build an inverted pendulum lamp, which can be used as a normal stylish desk lamp. (The main incentive, however, wasn‚Äôt so heroic. Honestly! It sounded just like a nice project idea!) Note\rThis blog post will give you a step by step recreation guide and highlights the design choices I made as well as introduce you to the implementation of the LQR Control Algorithm I used to balance the Lamp. I will also mention the resources that I used to speed up the programming part at the end of the post!\r","date":"2020-08-31","objectID":"/inverted_pendolum/:1:0","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Building ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:0","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Components List of used parts\rüìü Arduino UNO ‚ö° L298N motor driver ‚öôÔ∏è Geared DC-motor 39.6 mm, 15:1, 12 V DC üîå Capsule Slip Ring AC 240V üìè Wdd35d4-5k Contious Angle Sensor üîå 1 Cannel Relay 5V/230V üìè Potentiometer 50k (linear) üí° E27 Fassung ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:1","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Mechanical Setup To accomplish this symbiosis between this still highly complex balancing problem and the potential usage as a design element, I first had to design a balancing cart üöó with a pivoting E27 socket for the lamp üí°. This brings the extra challenge of feeding a, in this case, 230V, cable through various mountings and controlling it using an ordinary relay. Design-choices\r","date":"2020-08-31","objectID":"/inverted_pendolum/:2:2","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"‚öôÔ∏è DV-Motor (first axel) the L298N Motor Driver Module works up to 12V, without removing the jumper wire, therefore a 12V DV-Motor is a good choice for the setup should have sufficient torque and RPM. In my case around 300-440 RPM (depending on your wheel size) with a 15:1 gear ratio and 10Ncm was enough ‚ùó be careful with the maximum current! The allowed Amps for the L298N Motor Driver Module is 2A (more information here) ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:3","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"üìè Contious Angle Sensor (second axel) used to monitor the position of the cart üöó relative to its starting position works like a normal potentiometer but allows for more than 360¬∞ turning angle. not the most reliable solution as it produced high noise in the zero orientation =\u003e Quick-fix: use a capacitor as a low-pass filter between the ground and output voltage. ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:4","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"üìü Arduino the L298 has a 5V regulator and can be used as the power supply for the Arduino (see connection diagram) ‚ùó don‚Äôt mount any high current consumer like the lamp üí° or the motor ‚öô to the 5V output of the board it is not made for such high currents. ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:5","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"üìè Potentiometer 50k (linear) used to detect the angle of the pendulum additionally used as a mount for the pendulum ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:6","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"üîå Capsule Slip Ring AC 240V the lamp üí° is powered by an isolated electric circuit with 240V AC the slip ring feeds the power thought the rotational pivot point also used as a mount for the pendulum ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:7","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"üîå Relay isolates the 12V DC and the 240V AC is triggerd by the Arduino ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:8","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Connecting Motor Driver Board ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:9","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Connecting Potentiometer ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:10","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Integration of Relay2 ","date":"2020-08-31","objectID":"/inverted_pendolum/:2:11","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Control Algorithm In the following section, I will give a brief introduction to the theory of the LQR Controller and provide you with my recommended resources which help you determine the coefficients of the feedback regulator! ","date":"2020-08-31","objectID":"/inverted_pendolum/:3:0","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Mathematical representation The simplified system consists of an inverted pendulum which is connected to a motorized card. Without further inspection, we can recognize that we are looking at an unstable system. If the cart is not moved it is nearly impossible to balance the pendulum in the upright position. The objective is it now to design a feedback controller which accelerates the cart enough so that the angle $ \\phi $ of the pendulum is close to 180¬∞. For this we first have to define the nonlinear model: List of Variables\rM mass of the cart m mass of the pendulum b coefficient of friction for cart l length to pendulum centre of mass I mass moment of inertia of the pendulum F force applied to the cart x cart position coordinate $\\theta$ pendulum angle from vertical (down) u (input) here equivalent to the Force F ","date":"2020-08-31","objectID":"/inverted_pendolum/:3:1","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"LQR Controller The LQR or Linear quadratic regulator is one of many optimal control techniques, which takes into account the whole state vector and computes the control decision based on a linear model. For non-linear plants like our inverted pendulum, the system equations first have to be linearized about the upright (unstable) equilibrium. This consequently means that our LQR controller is only sufficient within small deviations around the upright position. After linearizing we have to calculate the gains $K$, this is done using the script linked here. With all that done, we now can compute the input voltage of the Motor using the following equation: $$ u = -Kx $$ A deeper dive into the theory behind the calculation of the linearized model can be found here! ","date":"2020-08-31","objectID":"/inverted_pendolum/:3:2","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Determine grains The script which already includes the linearized model to determine the gains for the LQR Controller can be found here! Tip\rWhen you calculate the model-specific gains $K$ it is very important that you measure the weight ‚öñ of the cart üöó and the pendulum + lamp üí° very precisely as the controller is very sensitive!\rTo furthermore approve your parameters the script [controlled-cart-pendulum.py] from a similar project3 simulates the control behaviour. ","date":"2020-08-31","objectID":"/inverted_pendolum/:3:3","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"DC-Motor system identification The LQR Controller takes as an input the Force F of the DC-Motor. Therefore the next step is to find the underlying DC-Motor model and estimate the corresponding system parameters. Then the Arduino can change the speed of the engine using the PWM signal. We can model a standard DC-Motor using the following equation: $$ \\frac{d w}{d t}\\left(J+m r^{2}\\right)+w\\left(B+\\frac{k^{2}}{R}\\right)=\\frac{k U}{R} $$ Simplifying this further: To determine the parameters a,b,c we can record several velocity curves with different input voltages. Using the following plot and theses scripts [dc_motor_lqr_control.py,estimate_params.py] we can now find the exact model parameters! Credits to zjor for creating the scripts3 ","date":"2020-08-31","objectID":"/inverted_pendolum/:3:4","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Code The code is based on an existing Arduino project3 #define A 9 #define B 1.0 #define C 2.1 #define Kth 61.20847945 #define Kw 10.42165907 #define Kx 16.2303454 #define Kv 13.43669139 #define Ki 0 #define PI 3.1415926535897932384626433832795 //define pins int speed = 9; int front = 6; int back = 7; int lamp = 2; //define constans float wheelCirc = 141.37; float THETA_THRESHOLD = PI / 8; unsigned long now = 0L; unsigned long lastTimeMicros = 0L; //init States float x=0; float d_x; float phi; float d_phi; float phi_sum=0; //usefull variables float pos_last1; float pos_last2; float pos_last3; float pos_last4; float last_phi; float control, u, dt , v_soll; // the setup routine runs once when you press reset: void setup() { // initialize serial communication at 9600 bits per second: Serial.begin(9600); pinMode(speed, OUTPUT); pinMode(front, OUTPUT); pinMode(back, OUTPUT); pinMode(lamp, OUTPUT); digitalWrite(lamp,HIGH); digitalWrite(front, LOW); digitalWrite(back, LOW); pos_last1= mapf(analogRead(A1),0,1023,0,wheelCirc)/1000; pos_last2=pos_last1; pos_last3=pos_last1; pos_last4=pos_last1; last_phi= mapf(analogRead(A0)-512+4 , -512, 512, -PI ,PI ); lastTimeMicros = 0L; //Debugging //Serial.print(\"x\");Serial.print(\"\\t\"); //Serial.print(\"dx\");Serial.println(\"\\t\"); //Serial.print(\"Kv*d_x\");Serial.print(\"\\t\"); //Serial.print(\"Kth*phi\");Serial.print(\"\\t\"); //Serial.print(\"Kw*d_phi\");Serial.print(\"\\t\"); //Serial.print(\"control\");Serial.print(\"\\t\"); //Serial.print(\"u\");Serial.println(\"\\t\"); } float mapf(float x, float in_min, float in_max, float out_min, float out_max) { return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min; } void driveMotor(float pwm_out){ analogWrite(speed, fabs(pwm_out)); if (pwm_out \u003e 0) { digitalWrite(front, HIGH); digitalWrite(back, LOW); }else if (pwm_out \u003c 0) { digitalWrite(front, LOW); digitalWrite(back, HIGH); }else{ digitalWrite(front, LOW); digitalWrite(back, LOW); } } boolean isControllable(float phi) { return fabs(phi) \u003c THETA_THRESHOLD; } float saturate(float v, float maxValue) { if (fabs(v) \u003e maxValue) { return (v \u003e 0) ? maxValue : -maxValue; } else { return v; } } float derivative(float x_new, float x_old, float dt){ float d_temp= x_new - x_old; float d_pos = 0; if (fabs(d_temp) \u003c fabs(d_temp+wheelCirc/1000) and (fabs(d_temp) \u003c fabs(d_temp-wheelCirc/1000))){ d_pos= d_temp; }else if (fabs(d_temp+wheelCirc/1000) \u003c fabs(d_temp-wheelCirc/1000)){ d_pos= (d_temp+wheelCirc/1000); }else { d_pos= (d_temp-wheelCirc/1000); } if (fabs(d_pos/dt)\u003e1.1){ d_pos= -d_x*dt; } return - d_pos/dt; } void updateStates(float dt){ //read sensor input (Angle of wheel) float sensor_x = analogRead(A1); float pos_new =mapf(sensor_x,0,1023,0,wheelCirc)/1000; //smoothing the signal input float pos_avg= (pos_last1+pos_last2+pos_last3+pos_last4)/4; float d_x_2 = derivative(pos_new, pos_last2,2*dt); float d_x_3 = derivative(pos_new, pos_last3,3*dt); d_x = (d_x_2+d_x_3)/2; //update state variables x = x + dt*d_x; pos_last4=pos_last3; pos_last3=pos_last2; pos_last2=pos_last1; pos_last1=pos_new; //read sensor phi float sensor_phi = analogRead(A0) - 512; phi = mapf(sensor_phi+8 , -512, 512, -PI, PI ); // map sensor input to correct mean an variance d_phi=(phi-last_phi)/dt; last_phi= phi; phi_sum=phi_sum+dt*phi; if (isControllable(phi)){ phi_sum=0; } //Debugging //Serial.print(sensor_x, 4);Serial.print(\"\\t\"); //Serial.print(sensor_x, 4);Serial.print(\"\\t\"); //Serial.print(pos_new, 4);Serial.print(\"\\t\"); //Serial.print(d_x*1000, 4);Serial.println(\"\\t\"); //Serial.print(d_x_2*1000, 4);Serial.print(\"\\t\"); //Serial.print(d_x_3*1000, 4);Serial.println(\"\\t\"); //Serial.print(d_x_4*1000, 4);Serial.println(\"\\t\"); //Serial.print(phi, 4);Serial.print(\"\\t\"); //Serial.print(d_phi, 4);Serial.print(\"\\t\"); } // the loop routine runs over and over again forever: void loop() { now = micros(); dt = (1.0*(now - lastTimeMicros))/ 1000000; updateStates(dt); if (isControllable(phi)) { digitalWrite(lamp, LOW); control = (Kx * x + Kv * d_x + Kth * phi ","date":"2020-08-31","objectID":"/inverted_pendolum/:4:0","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["arduino","feedback control theory"],"content":"Links http://web.mit.edu/klund/www/papers/Roberge1960.pdf¬†‚Ü©Ô∏é https://diyi0t.com/relay-tutorial-for-arduino-and-esp8266/¬†‚Ü©Ô∏é https://create.arduino.cc/projecthub/zjor/inverted-pendulum-on-a-cart-199d6f¬†‚Ü©Ô∏é¬†‚Ü©Ô∏é¬†‚Ü©Ô∏é ","date":"2020-08-31","objectID":"/inverted_pendolum/:5:0","tags":["electronics","dc-motor","L298n","lamp"],"title":"Inverted Pendulum, which is also a Lamp","uri":"/inverted_pendolum/"},{"categories":["DIY","Woodwork"],"content":"For those who share a passion for climbing, a personalized hangboard is more than a training tool; I took on the challenge of creating a custom hangboard from the ground up, and here‚Äôs how I turned oak wood leftovers into my dream hangboard and also a present for a friend. ","date":"2020-01-11","objectID":"/hangboard/:0:0","tags":[""],"title":"Building my custom Oak Hangboard","uri":"/hangboard/"},{"categories":["DIY","Woodwork"],"content":"Choosing the Right Wood and Finger Pocket Layout The journey began with selecting the perfect wood. I sourced oak hardwood leftovers from a nearby sawmill, known for its strength and durability‚Äîessential qualities for a hangboard even when undergoing high intensity training sessions. My personal board should be clean and symmetrical. The hangboard featured jug on either side, two slopers angled at 32.5¬∞ and 22.5¬∞, slots for a 4-finger hold, a 3-finger hold, and a 2-finger pocket, plus a 20mm deep bar spanning its length, ideal for endurance workouts. ","date":"2020-01-11","objectID":"/hangboard/:0:1","tags":[""],"title":"Building my custom Oak Hangboard","uri":"/hangboard/"},{"categories":["DIY","Woodwork"],"content":"Routing, Routing, Routing! The slot milling process was intricate, necessitating the use of a router with an extra-long bit. The precision of the router allowed for the creation of clean, even slots, tailor-made for each hold. Crafting the slopers was a challenge due to the board‚Äôs jugs preventing a straight cut on the table saw. To overcome this, I fashioned a special rig that enabled me to mill the slopers at the exact angles required, achieving the perfect grip. ","date":"2020-01-11","objectID":"/hangboard/:0:2","tags":[""],"title":"Building my custom Oak Hangboard","uri":"/hangboard/"},{"categories":["DIY","Woodwork"],"content":"The Finishing Touch After the meticulous construction phase, the board underwent a thorough sanding process, smoothing out all surfaces for a comfortable grip. The final touch was oiling, which not only protected the wood but also highlighted the oak‚Äôs natural, alluring patterns. In total I build 2 identical boards, one for my friend and one for myselfe. The custom creation of these hangboards didn‚Äôt just open the door to tailored training options specifically to our needs; it also proved to be a cost-effective alternative to off-the-shelf products. Remarkably, each board cost just 20‚Ç¨, excluding tools and small consumables. I hope this projects motivated more people to just build stuff themselves. ","date":"2020-01-11","objectID":"/hangboard/:0:3","tags":[""],"title":"Building my custom Oak Hangboard","uri":"/hangboard/"}]